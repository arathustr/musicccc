<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„ä¸ªäººéŸ³ä¹ç«™</title>
    <!-- å¼•å…¥ Tailwind CSS è¿›è¡Œç°ä»£ä¸”ç¾è§‚çš„æ’ç‰ˆ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* è‡ªå®šä¹‰è¿›åº¦æ¡æ ·å¼ */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 12px;
            width: 12px;
            border-radius: 50%;
            background: #4f46e5;
            cursor: pointer;
            margin-top: -4px;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #e5e7eb;
            border-radius: 2px;
        }
        /* å”±ç‰‡æ—‹è½¬åŠ¨ç”» */
        .spin {
            animation: spin 4s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .paused { animation-play-state: paused; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen text-gray-800 font-sans selection:bg-indigo-200">

    <div class="max-w-md mx-auto pt-10 px-4 sm:px-0">
        <!-- å¤´éƒ¨æ ‡é¢˜ -->
        <header class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-900 tracking-tight">æˆ‘çš„ç§äººéŸ³ä¹åº“</h1>
            <p class="text-gray-500 text-sm mt-2">éƒ¨ç½²åœ¨ GitHub Pages ä¸Šçš„é™æ€éŸ³ä¹ç«™</p>
        </header>

        <!-- æ’­æ”¾å™¨ä¸»å¡ç‰‡ -->
        <div class="bg-white rounded-3xl shadow-xl overflow-hidden mb-6 p-6">
            <!-- å°é¢å›¾ï¼ˆæ¨¡æ‹Ÿé»‘èƒ¶å”±ç‰‡ï¼‰ -->
            <div class="flex justify-center mb-6">
                <div id="cover-art" class="w-48 h-48 rounded-full bg-indigo-100 flex items-center justify-center shadow-lg border-4 border-gray-100 spin paused transition-transform duration-500">
                    <div class="w-12 h-12 rounded-full bg-white border border-gray-200 shadow-inner"></div>
                </div>
            </div>

            <!-- å½“å‰æ­Œæ›²ä¿¡æ¯ -->
            <div class="text-center mb-6">
                <h2 id="song-title" class="text-xl font-bold text-gray-800 truncate">æœªé€‰æ‹©æ­Œæ›²</h2>
                <p id="song-artist" class="text-gray-500 text-sm mt-1">æœªçŸ¥è‰ºæœ¯å®¶</p>
            </div>

            <!-- è¿›åº¦æ¡ -->
            <div class="mb-6">
                <input type="range" id="progress-bar" value="0" min="0" max="100" class="w-full">
                <div class="flex justify-between text-xs text-gray-400 mt-2 font-medium">
                    <span id="current-time">0:00</span>
                    <span id="duration">0:00</span>
                </div>
            </div>

            <!-- æ§åˆ¶æŒ‰é’® -->
            <div class="flex justify-center items-center space-x-6">
                <!-- ä¸Šä¸€é¦– -->
                <button id="prev-btn" class="text-gray-400 hover:text-indigo-600 transition-colors p-2">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
                </button>
                
                <!-- æ’­æ”¾/æš‚åœ -->
                <button id="play-btn" class="w-16 h-16 bg-indigo-600 text-white rounded-full flex items-center justify-center hover:bg-indigo-700 hover:scale-105 transition-all shadow-md">
                    <!-- æ’­æ”¾å›¾æ ‡ (é»˜è®¤æ˜¾ç¤º) -->
                    <svg id="play-icon" class="w-8 h-8 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                    <!-- æš‚åœå›¾æ ‡ (é»˜è®¤éšè—) -->
                    <svg id="pause-icon" class="w-8 h-8 hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                </button>

                <!-- ä¸‹ä¸€é¦– -->
                <button id="next-btn" class="text-gray-400 hover:text-indigo-600 transition-colors p-2">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
                </button>
            </div>
        </div>

        <!-- æ’­æ”¾åˆ—è¡¨ -->
        <div class="bg-white rounded-3xl shadow-md p-4 mb-10">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 px-2">æ’­æ”¾åˆ—è¡¨</h3>
            <ul id="playlist" class="space-y-1">
                <!-- åˆ—è¡¨é¡¹å°†ç”± JS åŠ¨æ€ç”Ÿæˆ -->
            </ul>
        </div>
    </div>

    <!-- éšè—çš„ Audio å…ƒç´  -->
    <audio id="audio-player"></audio>

    <script>
        /**
         * ğŸ§ åœ¨è¿™é‡Œé…ç½®ä½ çš„æ­Œæ›²åˆ—è¡¨ï¼
         * å°†ä½ çš„ .mp3 æ–‡ä»¶æ”¾åˆ°ä¸ index.html ç›¸åŒçš„ç›®å½•ä¸‹ã€‚
         * ç„¶ååœ¨è¿™é‡ŒæŠŠæ–‡ä»¶åå†™è¿›å»å³å¯ã€‚
         * ç¤ºä¾‹: { title: "æˆ‘çš„æ­Œæ›²", artist: "æˆ‘è‡ªå·±", file: "./my_song.mp3" }
         */
        const songs = [
            {
                title: "æµ‹è¯•éŸ³ä¹ 1 (åŠ¨æ„Ÿ)",
                artist: "SoundHelix",
                file: "./å‘¨èŒå°å®‡å®™ç¬¬ä¸€ç‰›é€¼.mp3" // è¿™é‡Œæ›¿æ¢ä¸ºä½ çš„ç›¸å¯¹è·¯å¾„ï¼Œä¾‹å¦‚: "./song1.mp3"
            },
            {
                title: "æµ‹è¯•éŸ³ä¹ 2 (è½»æ¾)",
                artist: "SoundHelix",
                file: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" // è¿™é‡Œæ›¿æ¢ä¸ºä½ çš„ç›¸å¯¹è·¯å¾„ï¼Œä¾‹å¦‚: "./song2.mp3"
            },
            {
                title: "æµ‹è¯•éŸ³ä¹ 3 (ç”µå­)",
                artist: "SoundHelix",
                file: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" // è¿™é‡Œæ›¿æ¢ä¸ºä½ çš„ç›¸å¯¹è·¯å¾„ï¼Œä¾‹å¦‚: "./song3.mp3"
            }
        ];

        // è·å– DOM å…ƒç´ 
        const audio = document.getElementById('audio-player');
        const playBtn = document.getElementById('play-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const songTitle = document.getElementById('song-title');
        const songArtist = document.getElementById('song-artist');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const playlistEl = document.getElementById('playlist');
        const coverArt = document.getElementById('cover-art');

        let currentSongIndex = 0;
        let isPlaying = false;

        // åˆå§‹åŒ–
        function initPlayer() {
            renderPlaylist();
            loadSong(currentSongIndex);
        }

        // åŠ è½½æ­Œæ›²
        function loadSong(index) {
            const song = songs[index];
            audio.src = song.file;
            songTitle.textContent = song.title;
            songArtist.textContent = song.artist;
            
            // é«˜äº®æ’­æ”¾åˆ—è¡¨ä¸­çš„å½“å‰æ­Œæ›²
            document.querySelectorAll('#playlist li').forEach((li, i) => {
                if (i === index) {
                    li.classList.add('bg-indigo-50', 'text-indigo-600', 'border-l-4', 'border-indigo-600');
                    li.classList.remove('text-gray-700', 'border-transparent');
                } else {
                    li.classList.remove('bg-indigo-50', 'text-indigo-600', 'border-l-4', 'border-indigo-600');
                    li.classList.add('text-gray-700', 'border-transparent');
                }
            });
        }

        // æ’­æ”¾æ­Œæ›²
        function playSong() {
            isPlaying = true;
            audio.play();
            playIcon.classList.add('hidden');
            pauseIcon.classList.remove('hidden');
            coverArt.classList.remove('paused');
        }

        // æš‚åœæ­Œæ›²
        function pauseSong() {
            isPlaying = false;
            audio.pause();
            playIcon.classList.remove('hidden');
            pauseIcon.classList.add('hidden');
            coverArt.classList.add('paused');
        }

        // åˆ‡æ¢æ’­æ”¾çŠ¶æ€
        playBtn.addEventListener('click', () => {
            if (isPlaying) {
                pauseSong();
            } else {
                playSong();
            }
        });

        // ä¸Šä¸€é¦–
        prevBtn.addEventListener('click', () => {
            currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            loadSong(currentSongIndex);
            if (isPlaying) playSong();
        });

        // ä¸‹ä¸€é¦–
        nextBtn.addEventListener('click', () => {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            loadSong(currentSongIndex);
            if (isPlaying) playSong();
        });

        // æ ¼å¼åŒ–æ—¶é—´ (ç§’ -> åˆ†:ç§’)
        function formatTime(seconds) {
            if (isNaN(seconds)) return "0:00";
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // æ›´æ–°è¿›åº¦æ¡
        audio.addEventListener('timeupdate', () => {
            const current = audio.currentTime;
            const duration = audio.duration;
            
            if (duration) {
                const progressPercent = (current / duration) * 100;
                progressBar.value = progressPercent;
                currentTimeEl.textContent = formatTime(current);
                durationEl.textContent = formatTime(duration);
            }
        });

        // è·å–éŸ³é¢‘æ€»æ—¶é•¿ (å½“å…ƒæ•°æ®åŠ è½½å®Œæˆæ—¶)
        audio.addEventListener('loadedmetadata', () => {
            durationEl.textContent = formatTime(audio.duration);
        });

        // æ‹–åŠ¨è¿›åº¦æ¡è·³è½¬
        progressBar.addEventListener('input', (e) => {
            const duration = audio.duration;
            const progressPercent = e.target.value;
            audio.currentTime = (progressPercent / 100) * duration;
        });

        // æ­Œæ›²æ’­æ”¾ç»“æŸè‡ªåŠ¨ä¸‹ä¸€é¦–
        audio.addEventListener('ended', () => {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            loadSong(currentSongIndex);
            playSong();
        });

        // æ¸²æŸ“æ’­æ”¾åˆ—è¡¨
        function renderPlaylist() {
            playlistEl.innerHTML = '';
            songs.forEach((song, index) => {
                const li = document.createElement('li');
                li.className = 'flex items-center justify-between p-3 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors border-l-4 border-transparent text-gray-700';
                li.innerHTML = `
                    <div class="flex flex-col truncate">
                        <span class="font-medium text-sm truncate">${song.title}</span>
                        <span class="text-xs text-gray-400 mt-0.5">${song.artist}</span>
                    </div>
                    <svg class="w-5 h-5 text-gray-400 flex-shrink-0" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                `;
                
                // ç‚¹å‡»åˆ—è¡¨é¡¹æ’­æ”¾è¯¥æ­Œæ›²
                li.addEventListener('click', () => {
                    currentSongIndex = index;
                    loadSong(currentSongIndex);
                    playSong();
                });
                
                playlistEl.appendChild(li);
            });
        }

        // å¯åŠ¨æ’­æ”¾å™¨
        initPlayer();

    </script>
</body>
</html>s
